@model SultanSklep.ViewModels.Product.ProductViewModel

<div class="container-fluid pt-4 px-4">
    <div class="row g-4">
        <div class="col-sm-12 col-xl-12">
            <div class="bg-light rounded h-100 p-4">
                <h6 class="mb-4 text-center">Update Product</h6>
                <form method="post" asp-controller="Product" asp-action="Edit" enctype="multipart/form-data">
                    <!-- Product Name -->
                    <div class="form-floating mb-3">
                        <input asp-for="ProductName" class="form-control" id="productName" placeholder="Product Name" required>
                        <label for="productName">Name of Product</label>
                        <span class="text-danger" asp-validation-for="ProductName"></span>
                    </div>

                    <!-- Product Description -->
                    <div class="form-floating mb-3">
                        <textarea asp-for="Description" class="form-control" id="productDescription" placeholder="Product Description" style="height: 150px;" required></textarea>
                        <label for="productDescription">Description of Product</label>
                        <span class="text-danger" asp-validation-for="Description"></span>
                    </div>

                    <!-- Product Count -->
                    <div class="form-floating mb-3">
                        <input asp-for="Count" type="number" class="form-control" id="productCount" placeholder="Count of Product" min="0" required>
                        <label for="productCount">Count of Product</label>
                        <span class="text-danger" asp-validation-for="Count"></span>
                    </div>

                    <!-- Product Price -->
                    <div class="input-group mb-3">
                        <span class="input-group-text">Price</span>
                        <input asp-for="Price" type="number" step="0.01" class="form-control" id="productPrice" placeholder="Enter price" required>
                        <span class="input-group-text">zl</span>
                        <span class="text-danger" asp-validation-for="Price"></span>
                    </div>

                    <!-- In Stock -->
                    <div class="form-check form-switch mb-3">
                        <input asp-for="IsAvailable" class="form-check-input" type="checkbox" id="inStock">
                        <label class="form-check-label" for="inStock">Is In Stock</label>
                    </div>

                    <!-- Category -->
                    <div class="form-group">
                        <label asp-for="CategoryId">Kateqoriya seçin:<span class="text-danger">*</span></label>
                        <select class="form-control" asp-for="CategoryId">
                            @foreach (var item in (List<Category>)ViewBag.categories)
                            {
                                <option value="@item.Id">@item.Name</option>
                            }
                        </select>
                    </div>

                    <!-- File Upload -->
                    <div class="mb-3">
                        <label for="productImage" class="form-label">Upload New Product Image</label>
                        <input asp-for="Photo" class="form-control" type="file" id="productImage" accept="image/*">
                        <span class="text-danger" asp-validation-for="Photo"></span>
                    </div>

                    <!-- Existing Image -->
                    @if (!string.IsNullOrEmpty(Model.Image))
                    {
                        <div class="mb-3">
                            <label>Existing Image</label>
                            <div>
                                <img src="/@Model.Image" alt="@Model.ProductName" width="100">
                            </div>
                        </div>
                    }

                    <!-- Submit and Cancel Buttons -->
                    <div class="text-center">
                        <button type="submit" class="btn btn-primary">Update Product</button>
                        <a asp-controller="Product" asp-action="Index" class="btn btn-secondary">Cancel</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
